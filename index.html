<!DOCTYPE html>
<html>
<head>
<title>Clickers 1990s</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Clickers 1990s</title>
        <style type="text/css">
            body {
                font-family: Verdana, Geneva, Tahoma, sans-serif;
                background: black;
                color: green;
            }
            button {
                background: Black;
                border: 0;
                padding: 10px;
                border-radius: 5px;
                transition: 0.2s;
                cursor: pointer;
                touch-action: manipulation;
				color: Green;
            }
            hr {
                border: 1px solid #C8C8C8;
            }
            .shop-item {
                margin-bottom: 5px;
            }
        </style>
</head>
<body style="background-color:Black">

<code><h1><center><font color="MediumSeaGreen"><b>Clickers 1990's</b></center></font></h1></code>
<p><code><center><font color="MediumSeaGreen"><b>Scroll down to play game</b></code><center></p>
<br>
<br>
<code><h6><center><font color="MediumSeaGreen">BOOTING UP</h6></code></center></font>
<br>
<br>
<code><h5><center><font color="MediumSeaGreen">BOOTING UP</h5></code></center></font>
<br>
<br>
<code><h4><center><font color="MediumSeaGreen">BOOTING UP</h4></code></center></font>
<br>
<br>
<code><h3><center><font color="MediumSeaGreen">BOOTING UP</h3></code></center></font>
<br>
<br>
<code><h2><center><font color="MediumSeaGreen">BOOTING UP</h2></code></center></font>
<br>
<br>

<code><h1><center><font color="MediumSeaGreen">COMPUTER BOOTED OPERATING SYSTEM: WINDOWS</h1></code></center></font>
<center><div id="game">
            <h1><span class="clicks"></span> clicks</h1>
            <button style="width:200px;height:200px;font-size:30px;" onclick="addClick(1);"><code>Get Clicks</code></button>
            <p><span id="cps"></span></p></center>
            <div id="shop">
                <h1><code>Shop</code></h1>
                <h3>$<span class="money"></span></h3>
                <div id="shop-items"></div>
            </div>
        </div>
        <h2><code>CPS stands for Clicks Per Second</code></h2>
        <script type="text/javascript">
            var savedVariables = {};

            var shopItems = [];
            var shopItemsAmount = {};
            //var speed = 1000;

            savedVariables['clicks'] = 0;
            savedVariables['money'] = 0;

            // stop that once, you're done, I'm going to finish it. Alright you're done. 

            function addClick(amount) {
                savedVariables['clicks'] = savedVariables['clicks']+amount;
                savedVariables['money'] = savedVariables['money']+amount;
                update();
            }

            function registerShopItem(name, price, earnings) {
                var friendly = htmlFriendly(name);
                if (noLoad)
                    shopItemsAmount[friendly] = 0;
                shopItems.push([name, price, earnings, friendly]);
                document.getElementById("shop-items").innerHTML+="<div class='shop-item' id='"+friendly+"-container'><span id='"+friendly+"-count'>0</span> <button id=\""+friendly+"-button\" onclick=\"shopItemClick('"+friendly+"');\">"+name+"</button> $"+price+" - "+earnings+" CPS</div>";
            }
            function shopItemClick(friendlyName) {
                var item = getItemFromFriendlyName(friendlyName);
                var price = item[1];
                if(savedVariables['money']>=price) {
                    shopItemsAmount[friendlyName] = shopItemsAmount[friendlyName]+=1;
                    savedVariables['money'] = savedVariables['money'] - price;
                }
                update();
            }
            function htmlFriendly(text) {
                return text.replace(/\s+/g, '-').toLowerCase();
            }

            /*
            function secondEarnings(earnings) {
                return 1000 * earnings / speed;
            }
            */

            setInterval(function() {
                var keys = Object.keys(shopItemsAmount);
                for(var i = 0; i < keys.length; i++) {
                    var key = keys[i];
                    var value = shopItemsAmount[key];
                    var item = getItemFromFriendlyName(key);
                    var earnings = item[2];
                    for(var j = 0; j < value; j++) {
                        addClick(earnings);
                    }
                }
            }, 1000);

            function update() {
                var keys = Object.keys(savedVariables);
                for(var i = 0; i < keys.length; i++) {
                    var key = keys[i];
                    var value = savedVariables[key];
                    var elements = document.getElementsByClassName(key);
                    for(var j = 0; j < elements.length; j++) {
                        var element = elements[j];
                        element.innerHTML = value;
                    }
                }
                var keys = Object.keys(shopItemsAmount);
                for(var i = 0; i < keys.length; i++) {
                    var key = keys[i];
                    var value = shopItemsAmount[key];
                    var element = document.getElementById(key+'-count');
                    element.innerHTML=value;
                }
                
                for(var i = 0; i < shopItems.length; i++) {
                    var item = shopItems[i];
                    buttonDisplay(item[3]);
                }
                
                document.getElementById('cps').innerHTML=getCPS()+' cps';

                save();
            }
            function getCPS() {
                var cps = 0;
                for(var i = 0; i < shopItems.length; i++) {
                    var item = shopItems[i];
                    var earnings = item[1];
                    for(var j = 0; j < shopItemsAmount[item[3]]; j++) {
                        cps += earnings;
                    }
                }
                return cps;
            }
            function buttonDisplay(friendlyName) {
                var button = document.getElementById(friendlyName+'-button');
                var item = getItemFromFriendlyName(friendlyName);
                var price = item[1];
                if(savedVariables['money']>=price) {
                    button.style.background='green';
                }else{
                    button.style.background='red';
                }
            }
            function getItemFromFriendlyName(friendlyName) {
                for(var i = 0; i < shopItems.length; i++) {
                    var shopItem = shopItems[i];
                    if(shopItem[3]==friendlyName) {
                        return shopItem;
                    }
                }
            }
            function save() {
                var keys = Object.keys(savedVariables);
                for(var i = 0; i < keys.length; i++) {
                    var key = keys[i];
                    var value = savedVariables[key];
                    if(value==null)continue;
                    localStorage.setItem(key, value);
                }
                localStorage.setItem('shopItemsAmount',JSON.stringify(shopItemsAmount));
            }
            var noLoad = false;
            function load() {
                shopItemsAmount = JSON.parse(localStorage.getItem('shopItemsAmount'));
                if(shopItemsAmount == null) {
                    shopItemsAmount = {};
                    noLoad = true;
                }
                
                var keys = Object.keys(savedVariables);
                for(var i = 0; i < keys.length; i++) {
                    var key = keys[i];
                    var variable = localStorage.getItem(key);
                    switch(typeof savedVariables[key]) {
                        case 'string':
                            if(variable==null) {
                                savedVariables[key] = '';
                                break;
                            }
                            savedVariables[key] = string(variable);
                            break;
                        case 'number':
                            if(variable==null||isNaN(variable)) {
                                savedVariables[key] = 0;
                                break;
                            }
                            savedVariables[key] = parseInt(variable);
                            break;
                        case 'boolean':
                            if(variable==null) {
                                savedVariables[key] = false;
                                break;
                            }
                            savedVariables[key] = (variable=='true');
                            break;
                        default:
                            savedVariables[key] = variable;
                            break;    
                    }
                }

                // name, price, clicks a second
                registerShopItem("Clicker", 50, 5);
                registerShopItem("Floppy Disk", 75, 10);
                registerShopItem("PS2 Mouse", 1000, 20);
                registerShopItem("CD Player", 2000, 40);
                registerShopItem("BlockBuster Membership", 3000, 60);
                registerShopItem("Mobile Telephone", 10000, 65);
                registerShopItem("MS-Dos", 12000, 250);
                registerShopItem("Java Script Pass", 1500000, 750);
                registerShopItem("Digital Camra", 50000000, 5000);
                registerShopItem("Early Hacker", 150000000, 3000);
                registerShopItem("Macintosh", 100000000, 1000);
                registerShopItem("Modem", 10000000000, 10000);
                registerShopItem("Personal Computer", 1000000000, 1000000);

                update();
            }
            load();
        </script>

<center>
    <h1><code>Change Log</code></h1>
    <code><h2>Created game</h2></code>
    <code><h1>Version History</h1></code>
	<br>
    <Code><h2><b>0.9</b> This is the first public test only featuring 2 variables</h2></Code>
	
    <code><h2><b>1.0</b> This will be released in early june under an actual proxy</h2></code></center<
<br>

    <code><h2><a href="http://hello-world.tk/">Learn To code hello world!</a></h2></code>
	<br>
	
        <code><h2><a href="https://clickers.ml/">Our main game and its pretty good, we are keeping it current and up to date</a></h2></code>
      <br>
	  
	  <code><h2><a href="https://ddogn.github.io/HyperReferencesinHTML/">Learn to code links in html</a></h2></code></p>
	<code><h2>Game designed and edited by <b>Drew Novak</b> With Game created by <strong>Owen Hobbs</strong> and variable help from <strong>Ethan Knipe</strong> and<strong> Jacob Tipple.</strong>

    

</body>
</html>
